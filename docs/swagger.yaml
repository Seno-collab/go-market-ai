definitions:
  app.HealthFailureResponseDoc:
    properties:
      data:
        $ref: '#/definitions/healthapp.HealthResponse'
      message:
        type: string
    type: object
  app.HealthSuccessResponseDoc:
    properties:
      data:
        $ref: '#/definitions/healthapp.HealthResponse'
      message:
        type: string
    type: object
  app.UploadLogoSuccessResponseDoc:
    properties:
      data:
        $ref: '#/definitions/uploadapp.UploadLogoResponse'
      message:
        type: string
    type: object
  authapp.ChangePasswordRequest:
    properties:
      confirm_password:
        type: string
      new_password:
        type: string
      old_password:
        type: string
    type: object
  authapp.ChangePasswordSuccessResponseDoc:
    properties:
      message:
        type: string
    type: object
  authapp.GetProfileResponse:
    properties:
      email:
        type: string
      full_name:
        type: string
      image_url:
        type: string
      is_active:
        type: boolean
      phone:
        type: string
      role:
        type: string
    type: object
  authapp.GetProfileSuccessResponseDoc:
    properties:
      data:
        $ref: '#/definitions/authapp.GetProfileResponse'
      message:
        type: string
    type: object
  authapp.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    type: object
  authapp.LoginResponse:
    properties:
      access_token:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
    type: object
  authapp.LoginSuccessResponseDoc:
    properties:
      data:
        $ref: '#/definitions/authapp.LoginResponse'
      message:
        type: string
    type: object
  authapp.LogoutSuccessResponseDoc:
    properties:
      message:
        type: string
    type: object
  authapp.RefreshTokenRequest:
    properties:
      refresh_token:
        type: string
    type: object
  authapp.RefreshTokenResponse:
    properties:
      access_token:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
    type: object
  authapp.RefreshTokenSuccessResponseDoc:
    properties:
      data:
        $ref: '#/definitions/authapp.RefreshTokenResponse'
      message:
        type: string
    type: object
  authapp.RegisterRequest:
    properties:
      email:
        type: string
      full_name:
        type: string
      password:
        type: string
      phone:
        type: string
    type: object
  authapp.RegisterSuccessResponseDoc:
    properties:
      message:
        type: string
    type: object
  authapp.UpdateProfileRequest:
    properties:
      email:
        type: string
      full_name:
        type: string
      image_url:
        type: string
      phone:
        type: string
    type: object
  authapp.UpdateProfileSuccessResponseDoc:
    properties:
      data:
        $ref: '#/definitions/authapp.GetProfileResponse'
      message:
        type: string
    type: object
  healthapp.HealthResponse:
    properties:
      checked_at:
        example: "2026-01-22T12:34:56Z"
        type: string
      environment:
        example: development
        type: string
      services:
        items:
          $ref: '#/definitions/healthapp.ServiceStatus'
        type: array
      status:
        example: up
        type: string
    type: object
  healthapp.ServiceStatus:
    properties:
      error:
        example: 'dial tcp 127.0.0.1:5432: connect: connection refused'
        type: string
      latency_ms:
        example: 12
        type: integer
      name:
        example: postgres
        type: string
      status:
        example: up
        type: string
    type: object
  response.ErrorDoc:
    properties:
      message:
        type: string
    type: object
  uploadapp.UploadLogoResponse:
    properties:
      url:
        type: string
    type: object
info:
  contact: {}
paths:
  /api/auth/change-password:
    patch:
      consumes:
      - application/json
      description: Allows the authenticated user to change their password
      parameters:
      - description: Old and new password
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/authapp.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password changed successfully
          schema:
            $ref: '#/definitions/authapp.ChangePasswordSuccessResponseDoc'
        default:
          description: Errors
          schema:
            $ref: '#/definitions/response.ErrorDoc'
      summary: Change user password
      tags:
      - Auth
  /api/auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user and return access and refresh tokens
      parameters:
      - description: User login payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/authapp.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            $ref: '#/definitions/authapp.LoginSuccessResponseDoc'
        default:
          description: Errors
          schema:
            $ref: '#/definitions/response.ErrorDoc'
      summary: User login
      tags:
      - Auth
  /api/auth/logout:
    post:
      consumes:
      - application/json
      description: Invalidates the current user's authentication token
      produces:
      - application/json
      responses:
        "200":
          description: Successfully logged out
          schema:
            $ref: '#/definitions/authapp.LogoutSuccessResponseDoc'
        default:
          description: Errors
          schema:
            $ref: '#/definitions/response.ErrorDoc'
      summary: Logout user
      tags:
      - Auth
  /api/auth/profile:
    get:
      consumes:
      - application/json
      description: Retrieve the profile information of the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: Profile retrieved successfully
          schema:
            $ref: '#/definitions/authapp.GetProfileSuccessResponseDoc'
        default:
          description: Errors
          schema:
            $ref: '#/definitions/response.ErrorDoc'
      summary: Get user profile
      tags:
      - Auth
    patch:
      consumes:
      - application/json
      description: Update the profile information of the authenticated user
      parameters:
      - description: Profile update payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/authapp.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Profile updated successfully
          schema:
            $ref: '#/definitions/authapp.UpdateProfileSuccessResponseDoc'
        default:
          description: Errors
          schema:
            $ref: '#/definitions/response.ErrorDoc'
      summary: Update user profile
      tags:
      - Auth
  /api/auth/refresh-token:
    post:
      consumes:
      - application/json
      description: Generate a new access token using a valid refresh token
      parameters:
      - description: Refresh token payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/authapp.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Token refreshed successfully
          schema:
            $ref: '#/definitions/authapp.RefreshTokenSuccessResponseDoc'
        default:
          description: Errors
          schema:
            $ref: '#/definitions/response.ErrorDoc'
      summary: Refresh access token
      tags:
      - Auth
  /api/auth/register:
    post:
      consumes:
      - application/json
      description: Create a new user account with email and full name
      parameters:
      - description: User registration payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/authapp.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: User created successfully
          schema:
            $ref: '#/definitions/authapp.RegisterSuccessResponseDoc'
        default:
          description: Errors
          schema:
            $ref: '#/definitions/response.ErrorDoc'
      summary: Register a new userRegisterRequest
      tags:
      - Auth
  /api/health:
    get:
      description: Provides service health along with dependency status.
      produces:
      - application/json
      responses:
        "200":
          description: Service healthy
          schema:
            $ref: '#/definitions/app.HealthSuccessResponseDoc'
        "503":
          description: Service degraded or down
          schema:
            $ref: '#/definitions/app.HealthFailureResponseDoc'
      summary: Health check
      tags:
      - Health
  /api/upload/logo:
    post:
      consumes:
      - multipart/form-data
      description: Upload a logo image to storage and return the public URL
      parameters:
      - description: Logo file (png, jpg, jpeg)
        in: formData
        name: logo
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Upload logo success
          schema:
            $ref: '#/definitions/app.UploadLogoSuccessResponseDoc'
        default:
          description: Errors
          schema:
            $ref: '#/definitions/response.ErrorDoc'
      summary: Upload logo file
      tags:
      - Upload
swagger: "2.0"
